/*!
 * name:map
 * 
 * version:0.0.1 undefined
 * license:MIT
 */
!function(t){function o(n){if(r[n])return r[n].exports;var e=r[n]={exports:{},id:n,loaded:!1};return t[n].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var r={};return o.m=t,o.c=r,o.p="",o(0)}([function(t,o,r){"use strict";t.exports=r(1)},function(t,o,r){"use strict";function n(){String.prototype.format||(String.prototype.format=function(t){var o=this;if(arguments.length>0)if(1==arguments.length&&"object"==typeof t){for(var r in t)if(void 0!=t[r]){var n=new RegExp("({"+r+"})","g");o=o.replace(n,t[r])}}else for(var e=0;e<arguments.length;e++)if(void 0!=arguments[e]){var n=new RegExp("({["+e+"]})","g");o=o.replace(n,arguments[e])}return o})}var e=r(2),i=function(){function t(t){this.provider=t,this.mapProvider=new e.MapProvider(t)}return t.prototype.getMapTile=function(t,o,r){return this.mapProvider.getMapTile(t,o,r)},t}();o.Map=i,window.Map=i,n()},function(t,o,r){"use strict";var n=r(3),e=r(10),i=r(12),a=r(13),u=r(14),s=r(18),c={GaussKrugerProvider_SZ:u.GaussKrugerProvider_SZ,GoogleProvider_AERIAL:n.GoogleProvider_AERIAL,GoogleProvider_HYBRID:n.GoogleProvider_HYBRID,GoogleProvider_ROAD:n.GoogleProvider_ROAD,BaiduProvider_AERIAL:e.BaiduProvider_AERIAL,BaiduProvider_ROAD:e.BaiduProvider_ROAD,TiandituProvider_AERIAL:a.TiandituProvider_AERIAL,TiandituProvider_ROAD:a.TiandituProvider_ROAD,GaoDeProvider_AERIAL:i.GaoDeProvider_AERIAL,GaoDeProvider_ROAD:i.GaoDeProvider_ROAD},h=function(){function t(t){t=c[t],t&&(this.provider=new t)}return t.prototype.getMapTile=function(t,o,r){var n=new s.MapTile(this.provider,t,o,r);return n},t}();o.MapProvider=h},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(4),i=function(t){function o(){return t.call(this)||this}return n(o,t),o.prototype.getTileUrls=function(t){if(t.row<0||t.row>=Math.pow(2,t.zoom))return null;var o=this.sourceCoordinate(t),r=t.row%4,n="Galileo".substr(0,Math.floor(8*Math.random())),e=this.urlTemplate,i=e.format(r,o.column,o.row,o.zoom,n);return[i]},o.prototype.toString=function(){return"GoogleProvider_"+this.type},o}(e.AbstractMapProvider);o.GoogleProvider=i;var a=function(t){function o(){var o=t.call(this)||this;return o.type="AERIAL",o.urlTemplate="http://mt{0}.google.cn/vt/lyrs=y&hl=zh-CN&gl=cn&x={1}&y={2}&z={3}&s={4}",o}return n(o,t),o}(i);o.GoogleProvider_AERIAL=a;var u=function(t){function o(){var o=t.call(this)||this;return o.type="HYBRID",o.urlTemplate="http://mt{0}.google.cn/vt/lyrs=p&hl=zh-CN&gl=cn&x={1}&y={2}&z={3}&s={4}",o}return n(o,t),o}(i);o.GoogleProvider_HYBRID=u;var s=function(t){function o(){var o=t.call(this)||this;return o.type="ROAD",o.urlTemplate="http://mt{0}.google.cn/vt/lyrs=m&hl=zh-CN&gl=cn&x={1}&y={2}&z={3}&s={4}",o}return n(o,t),o}(i);o.GoogleProvider_ROAD=s},function(t,o,r){"use strict";var n=r(5),e=r(6),i=r(7),a=function(){function t(o,r,n,e){void 0===o&&(o=t.MIN_ZOOM),void 0===r&&(r=t.MAX_ZOOM),void 0===n&&(n=0),void 0===e&&(e=0),this.init(o,r,n,e)}return t.prototype.init=function(t,o,r,a){var u=new e.Transformation(10680707.79,0,33554431.85+r,0,(-10680708.9),33554430.57+a);this.projection=new i.MercatorProjection(26,u),this.topLeftOutLimit=new n.Coordinate(0,Number.NEGATIVE_INFINITY,t),this.bottomRightInLimit=new n.Coordinate(1,Number.POSITIVE_INFINITY,0).zoomTo(o)},t.prototype.geometry=function(){return this.projection.toString()},t.prototype.sourceCoordinate=function(t){for(var o=t.column%Math.pow(2,t.zoom);o<0;)o+=Math.pow(2,t.zoom);return new n.Coordinate(t.row,o,t.zoom)},t.prototype.outerLimits=function(){return[this.topLeftOutLimit.clone(),this.bottomRightInLimit.clone()]},t.prototype.locationCoordinate=function(t){return this.projection.locationCoordinate(t)},t.prototype.coordinateLocation=function(t){return this.projection.coordinateLocation(t)},Object.defineProperty(t.prototype,"tileWidth",{get:function(){return 256},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileHeight",{get:function(){return 256},enumerable:!0,configurable:!0}),t}();a.MIN_ZOOM=1,a.MAX_ZOOM=20,o.AbstractMapProvider=a},function(t,o){"use strict";var r=function(){function t(t,o,r){this.row=t,this.column=o,this.zoom=r}return t.prototype.container=function(){return new t(Math.floor(this.row),Math.floor(this.column),this.zoom)},t.prototype.zoomTo=function(o){return new t(this.row*Math.pow(2,o-this.zoom),this.column*Math.pow(2,o-this.zoom),o)},t.prototype.zoomBy=function(o){return new t(this.row*Math.pow(2,o),this.column*Math.pow(2,o),this.zoom+o)},t.prototype.isRowEdge=function(){return Math.round(this.row)==this.row},t.prototype.isColumnEdge=function(){return Math.round(this.column)==this.column},t.prototype.isEdge=function(){return this.isRowEdge()&&this.isColumnEdge()},t.prototype.up=function(o){return void 0===o&&(o=1),new t(this.row-o,this.column,this.zoom)},t.prototype.right=function(o){return void 0===o&&(o=1),new t(this.row,this.column+o,this.zoom)},t.prototype.down=function(o){return void 0===o&&(o=1),new t(this.row+o,this.column,this.zoom)},t.prototype.left=function(o){return void 0===o&&(o=1),new t(this.row,this.column-o,this.zoom)},t.prototype.equalTo=function(t){return t&&t.row==this.row&&t.column==this.column&&t.zoom==this.zoom},t.prototype.clone=function(){return new t(this.row,this.column,this.zoom)},t.prototype.toString=function(){return this.column+","+this.row+","+this.zoom},t}();o.Coordinate=r},function(t,o){"use strict";var r=function(){function t(t,o,r,n,e,i){this.ax=t,this.bx=o,this.cx=r,this.ay=n,this.by=e,this.cy=i}return t.prototype.toString=function(){return"T(["+this.ax+","+this.bx+","+this.cx+"]["+this.ay+","+this.by+","+this.cy+"])"},t.prototype.transform=function(t){var o=t[0],r=t[1];return[this.ax*o+this.bx*r+this.cx,this.ay*o+this.by*r+this.cy]},t.prototype.untransform=function(t){var o=t[0],r=t[1];return[(o*this.by-r*this.bx-this.cx*this.by+this.cy*this.bx)/(this.ax*this.by-this.ay*this.bx),(o*this.ay-r*this.ax-this.cx*this.ay+this.cy*this.ax)/(this.bx*this.ay-this.by*this.ax)]},t}();o.Transformation=r},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(8),i=function(t){function o(o,r){return t.call(this,o,r)||this}return n(o,t),o.prototype.rawProject=function(t){return[t[0],Math.log(Math.tan(.25*Math.PI+.5*t[1]))]},o.prototype.rawUnproject=function(t){return[t[0],2*Math.atan(Math.pow(Math.E,t[1]))-.5*Math.PI]},o.prototype.toString=function(){return"Mercator("+this.zoom+", "+this.T.toString()+")"},o}(e.AbstractProjection);o.MercatorProjection=i},function(t,o,r){"use strict";var n=r(9),e=r(5),i=function(){function t(t,o){this.T=o,this.zoom=t}return t.prototype.project=function(t){return t=this.rawProject(t),this.T&&(t=this.T.transform(t)),t},t.prototype.unproject=function(t){return this.T&&(t=this.T.untransform(t)),this.rawUnproject(t)},t.prototype.locationCoordinate=function(t){var o=this.project([Math.PI*t.lon/180,Math.PI*t.lat/180]);return new e.Coordinate(o[1],o[0],this.zoom)},t.prototype.coordinateLocation=function(t){t=t.zoomTo(this.zoom);var o=[t.column,t.row];return o=this.unproject(o),new n.LonLat(180*o[0]/Math.PI,180*o[1]/Math.PI)},t.prototype.rawProject=function(t){return console.error("Abstract method not implemented by subclass."),null},t.prototype.rawUnproject=function(t){return console.error("Abstract method not implemented by subclass."),null},t.prototype.toString=function(){return console.error("Abstract method not implemented by subclass."),""},t}();o.AbstractProjection=i},function(t,o){"use strict";var r=function(){function t(t,o){this.lon=t,this.lat=o}return t.fromString=function(o,r){void 0===r&&(r=!0);var n=o.split(/\s*,\s*/,2);return r||(n=n.reverse()),new t(parseFloat(n[0]),parseFloat(n[1]))},t.prototype.equals=function(t){return t&&t.lat==this.lat&&t.lon==this.lon},t.prototype.clone=function(){return new t(this.lon,this.lat)},t.prototype.normalize=function(){var o=this.clone();for(o.lat=Math.max(t.MIN_LAT,Math.min(t.MAX_LAT,o.lat));o.lon>180;)o.lon-=360;for(;o.lon<-180;)o.lon+=360;return o},t.prototype.toString=function(t){return void 0===t&&(t=5),[this.lon.toFixed(t),this.lat.toFixed(t)].join(",")},t}();r.MAX_LAT=84,r.MIN_LAT=-84,r.MAX_LON=180,r.MIN_LON=-180,o.LonLat=r},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(4),i=r(5),a=r(6),u=r(11),s=function(t){function o(){return t.call(this)||this}return n(o,t),o.prototype.init=function(t,o,r,n){void 0===t&&(t=1),void 0===o&&(o=19);var e=new a.Transformation(1,0,131072,0,(-1),131072);this.projection=new u.BaiduProjection(18,e),this.topLeftOutLimit=new i.Coordinate(0,0,t),this.bottomRightInLimit=new i.Coordinate(1,1,0).zoomTo(o)},o.prototype.getTileUrls=function(t){if(t.row<0||t.row>=Math.pow(2,t.zoom))return null;var o=(this.sourceCoordinate(t),Math.pow(2,18-t.zoom)),r=t.column-131072/o,n=131072/o-t.row-1,e=t.row%4,i=this.urlTemplate,a=i.format(e,r.toString().replace("-","M"),n.toString().replace("-","M"),t.zoom);return[a]},o.prototype.toString=function(){return"BaiduProvider_"+this.type},o}(e.AbstractMapProvider);o.BaiduProvider=s;var c=function(t){function o(){var o=t.call(this)||this;return o.type="AERIAL",o.urlTemplate="http://online{0}.map.bdimg.com/tile/?qt=tile&x={1}&y={2}&z={3}&styles=sl&v=068&udt=20150418",o}return n(o,t),o}(s);o.BaiduProvider_AERIAL=c;var h=function(t){function o(){var o=t.call(this)||this;return o.type="ROAD",o.urlTemplate="http://online{0}.map.bdimg.com/tile/?qt=tile&x={1}&y={2}&z={3}&styles=pl&udt=20150421&scaler=1",o}return n(o,t),o}(s);o.BaiduProvider_ROAD=h},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(7),i=r(9),a=r(5),u=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return n(o,t),o.prototype.rawProject=function(t){return o.convertLL2MC(t)},o.prototype.rawUnproject=function(t){return o.convertMC2LL(t)},o.prototype.locationCoordinate=function(t){var o=this.project([t.lon,t.lat]);return new a.Coordinate(o[1],o[0],this.zoom)},o.prototype.coordinateLocation=function(t){t=t.zoomTo(this.zoom);var o=[t.column,t.row];return o=this.unproject(o),new i.LonLat(o[0],o[1])},o.convertMC2LL=function(t){t=[256*t[0],256*t[1]];var r,n;r=[Math.abs(t[0]),Math.abs(t[1])];for(var e=0;e<o.MCBAND.length;e++)if(r[1]>=o.MCBAND[e]){n=o.MC2LL[e];break}return o.convertor(t,n)},o.convertLL2MC=function(t){var r,n;r=[o.getLoop(t[0],-180,180),o.getRange(t[1],-74,74)];var e;for(e=0;e<o.LLBAND.length;e++)if(r[1]>=o.LLBAND[e]){n=o.LL2MC[e];break}if(!n)for(e=o.LLBAND.length-1;e>=0;e--)if(t[1]<=-o.LLBAND[e]){n=o.LL2MC[e];break}var i=o.convertor(t,n);return[parseFloat(i[0].toFixed(2))/256,parseFloat(i[1].toFixed(2))/256]},o.convertor=function(t,o){if(!t||!o)return null;var r=o[0]+o[1]*Math.abs(t[0]),n=Math.abs(t[1])/o[9],e=o[2]+o[3]*n+o[4]*n*n+o[5]*n*n*n+o[6]*n*n*n*n+o[7]*n*n*n*n*n+o[8]*n*n*n*n*n*n;return r*=t[0]<0?-1:1,e*=t[1]<0?-1:1,[r,e]},o.getRange=function(t,o,r){return null!=o&&(t=Math.max(t,o)),null!=r&&(t=Math.min(t,r)),t},o.getLoop=function(t,o,r){for(;t>r;)t-=r-o;for(;t<o;)t+=r-o;return t},o}(e.MercatorProjection);u.EARTHRADIUS=6370996.81,u.MCBAND=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],u.LLBAND=[75,60,45,30,15,0],u.MC2LL=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],u.LL2MC=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],o.BaiduProjection=u},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(4),i=function(t){function o(){return t.call(this)||this}return n(o,t),o.prototype.getTileUrls=function(t){if(t.row<0||t.row>=Math.pow(2,t.zoom))return null;var o=this.sourceCoordinate(t),r=t.row%4+1,n=this.urlTemplate;if("object"==typeof n)return n.map(function(t){return t.format(r,o.column,o.row,o.zoom)});var e=n.format(r,o.column,o.row,o.zoom);return[e]},o.prototype.toString=function(){return"GaoDeProvider_"+this.type},o}(e.AbstractMapProvider);o.GaoDeProvider=i;var a=function(t){function o(){var o=t.call(this)||this;return o.type="ROAD",o.urlTemplate="http://webrd0{0}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={1}&y={2}&z={3}",o}return n(o,t),o}(i);o.GaoDeProvider_ROAD=a;var u=function(t){function o(){var o=t.call(this)||this;return o.type="AERIAL",o.urlTemplate=["http://webst0{0}.is.autonavi.com/appmaptile?scale=1&style=6&x={1}&y={2}&z={3}","http://webst0{0}.is.autonavi.com/appmaptile?scale=1&style=8&x={1}&y={2}&z={3}"],o}return n(o,t),o}(i);o.GaoDeProvider_AERIAL=u},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(4),i=function(t){function o(){return t.call(this)||this}return n(o,t),o.prototype.getTileUrls=function(t){if(t.row<0||t.row>=Math.pow(2,t.zoom))return null;var o=this.sourceCoordinate(t),r=t.row%7,n=this.urlTemplate,e=n.format(r,o.column,o.row,o.zoom);return[e]},o.prototype.toString=function(){return"TiandituProvider_"+this.type},o}(e.AbstractMapProvider);o.TiandituProvider=i;var a=function(t){function o(){var o=t.call(this)||this;return o.type="AERIAL",o.urlTemplate="http://t{0}.tianditu.com/DataServer?T=img_w&x={1}&y={2}&l={3}",o}return n(o,t),o}(i);o.TiandituProvider_AERIAL=a;var u=function(t){function o(){var o=t.call(this)||this;return o.type="ROAD",o.urlTemplate="http://t{0}.tianditu.com/DataServer?T=vec_w&x={1}&y={2}&l={3}",o}return n(o,t),o}(i);o.TiandituProvider_ROAD=u},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(4),i=r(5),a=r(6),u=r(15),s=function(t){function o(o,r,n,i){return void 0===o&&(o=e.AbstractMapProvider.MIN_ZOOM),void 0===r&&(r=e.AbstractMapProvider.MAX_ZOOM),void 0===n&&(n=0),void 0===i&&(i=0),t.call(this,o,r,n,i)||this}return n(o,t),o.prototype.getTileUrls=function(t){var o=this.sourceCoordinate(t),r=this.urlTemplate.format(o.column,o.row,this.scales[o.zoom-8]);return[r]},o.prototype.toString=function(){return"GaussKrugerProvider_"+this.type},o}(e.AbstractMapProvider);o.GaussKrugerProvider=s;var c=function(t){function o(){var o=t.call(this,8,26)||this;return o.type="SZ",o.scales=[4.5155555555374945e-7,9.031111111074989e-7,1806222222214999e-21,36124444444300892e-22,72248888888601785e-22,14449777777721402e-21,2889955555547204e-20,57799111110910654e-21,.00011559822222255629,.00023119644444356247,.00046239288888703917],o.urlTemplate="http://10.38.13.145:8090/iserver/services/map-arcgis-szsatellite/rest/maps/图层/tileImage.png?transparent=false&cacheEnabled=true&width=256&height=256&x={0}&y={1}&scale={2}&redirect=false&overlapDisplayed=false",o}return n(o,t),o.prototype.init=function(t,o,r,n){var e=1.74762666666667,s=new a.Transformation(e,0,19999.999999999854*e,0,(-e),-20000.00000059977*e+262144);this.projection=new u.GaussKrugerProjection(o,s,120.58333299999998,50805,(-3421129)),this.topLeftOutLimit=new i.Coordinate((-1),Number.NEGATIVE_INFINITY,0),this.bottomRightInLimit=new i.Coordinate(1,Number.POSITIVE_INFINITY,0).zoomTo(26)},o}(s);o.GaussKrugerProvider_SZ=c},function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=r(8),i=r(9),a=r(5),u=r(16),s=function(t){function o(o,r,n,e,i){void 0===e&&(e=5e5),void 0===i&&(i=0);var a=t.call(this,o,r)||this;return a.centerLon=n,a.tx=e,a.ty=i,a}return n(o,t),o.prototype.rawProject=function(t){return u.lonLat_xy_wgs84(t[0],t[1],this.centerLon,this.tx,this.ty)},o.prototype.rawUnproject=function(t){return u.xy_LonLat_wgs84(t[0],t[1],this.centerLon,this.tx,this.ty)},o.prototype.locationCoordinate=function(t){var o=this.project([t.lon,t.lat]);return new a.Coordinate(o[1],o[0],this.zoom)},o.prototype.coordinateLocation=function(t){t=t.zoomTo(this.zoom);var o=[t.column,t.row];return o=this.unproject(o),new i.LonLat(o[0],o[1])},o.prototype.toString=function(){return"GaussKrugerProjection("+this.zoom+", "+this.T.toString()+")"},o}(e.AbstractProjection);o.GaussKrugerProjection=s},function(t,o,r){"use strict";function n(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),p(t,o,d.WGS84.a,d.WGS84.f,r,n,e)}function e(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),p(t,o,d.Xian80.a,d.Xian80.f,r,n,e)}function i(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),p(t,o,d.Beijing54.a,d.Beijing54.f,r,n,e)}function a(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),p(t,o,d.CGCS2000.a,d.CGCS2000.f,r,n,e)}function u(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),l(t,o,d.WGS84.a,d.WGS84.f,r,n,e)}function s(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),l(t,o,d.Xian80.a,d.Xian80.f,r,n,e)}function c(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),l(t,o,d.Beijing54.a,d.Beijing54.f,r,n,e)}function h(t,o,r,n,e){return void 0===n&&(n=5e5),void 0===e&&(e=0),l(t,o,d.CGCS2000.a,d.CGCS2000.f,r,n,e)}function p(t,o,r,n,e,i,a){void 0===i&&(i=5e5),void 0===a&&(a=0),t-=e;var u,s,c,h=[],p=0,l=0,d=(2*n-1)/n/n,v=d/(1-d);u=o*Math.PI/180,s=Math.tan(u),c=Math.cos(u)*t*Math.PI/180;var y=r/Math.sqrt(1-d*Math.sin(u)*Math.sin(u)),m=v*Math.pow(Math.cos(u),2);return l=c*c/2+(5-s*s+9*m+4*m*m)*Math.pow(c,4)/24+(61-58*s*s+Math.pow(s,4))*Math.pow(c,6)/720,l=f(o,r,n)+y*s*l,p=y*(c+(1-s*s+m)*Math.pow(c,3)/6+(5-18*s*s+Math.pow(s,4)+14*m-58*s*s*m)*Math.pow(c,5)/120),h[0]=(p+i).toFixed(5),h[1]=(l+a).toFixed(5),h}function l(t,o,r,n,e,i,a){void 0===i&&(i=5e5),void 0===a&&(a=0);var u=0,s=0;if(o-=a,t-=i,t>1e6)return null;var c,h,p,l,f,d=(2*n-1)/n/n,v=d/(1-d);c=1+3*d/4+45*d*d/64+175*Math.pow(d,3)/256+11025*Math.pow(d,4)/16384,h=3*d/4+15*d*d/16+525*Math.pow(d,3)/512+2205*Math.pow(d,4)/2048,p=15*d*d/64+105*Math.pow(d,3)/256+2205*Math.pow(d,4)/4096,l=35*Math.pow(d,3)/512+315*Math.pow(d,4)/2048,f=315*Math.pow(d,4)/131072;var y=o/(r*(1-d)*c);do s=y,y=(o+r*(1-d)*(h*Math.sin(2*y)/2-p*Math.sin(4*y)/4+l*Math.sin(6*y)/6)-f*Math.sin(8*y)/8)/(r*(1-d)*c);while(Math.abs(s-y)>1e-11);var m=r/Math.sqrt(1-d*Math.pow(Math.sin(y),2)),w=1+v*Math.pow(Math.cos(y),2),M=v*Math.pow(Math.cos(y),2),g=Math.pow(Math.tan(y),2);return s=y-w*Math.tan(y)/2*(Math.pow(t/m,2)-(5+3*g+M-9*M*g)*Math.pow(t/m,4)/12+(61+90*g+45*g*g)*Math.pow(t/m,6)/360),u=(t/m-(1+2*g+M)*Math.pow(t/m,3)/6+(5+28*g+24*g*g+6*M+8*M*g)*Math.pow(t/m,5)/120)/Math.cos(y),s=180*s/Math.PI,u=180*u/Math.PI,u+=e,[u.toFixed(5),s.toFixed(5)]}function f(t,o,r){var n,e,i,a,u,s=(2*r-1)/r/r,c=t*Math.PI/180;return n=1+3*s/4+45*Math.pow(s,2)/64+175*Math.pow(s,3)/256+11025*Math.pow(s,4)/16384,e=3*s/4+15*Math.pow(s,2)/16+525*Math.pow(s,3)/512+2205*Math.pow(s,4)/2048,i=15*Math.pow(s,2)/64+105*Math.pow(s,3)/256+2205*Math.pow(s,4)/4096,a=35*Math.pow(s,3)/512+315*Math.pow(s,4)/2048,u=315*Math.pow(s,4)/131072,o*(1-s)*(n*c-e*Math.sin(2*c)/2+i*Math.sin(4*c)/4-a*Math.sin(6*c)/6+u*Math.sin(8*c)/8)}var d=r(17);o.lonLat_xy_wgs84=n,o.lonLat_xy_xian80=e,o.lonLat_xy_beijing54=i,o.lonLat_xy_cgcs2000=a,o.xy_LonLat_wgs84=u,o.xy_LonLat_xian80=s,o.xy_LonLat_beijing54=c,o.xy_LonLat_cgcs2000=h,o.lonLat_xy=p,o.xy_LonLat=l,o.meridianLength=f},function(t,o){"use strict";o.WGS84={a:6378137,f:298.257223563},o.Xian80={a:6378140,f:298.257},o.Beijing54={a:6378245,f:298.3},o.CGCS2000={a:6378137,f:298.257222101}},function(t,o,r){"use strict";var n=r(5),e=r(9),i=function(){function t(t,o,r,n){this.provider=t,this.lonlat=new e.LonLat(o,r);var i=t.locationCoordinate(this.lonlat),a=n-i.zoom;this.coordinate=i.zoomBy(a).container();var u=this.coordinate.zoomBy(-a),s=Math.pow(2,a);this.scaleValue=t.tileWidth*s,this.offset=[(i.column-u.column)*this.scaleValue,(i.row-u.row)*this.scaleValue],this.realMaxCoordinate=i}return t.prototype.getUrls=function(){return void 0===this.urls&&(this.urls=this.provider.getTileUrls(this.coordinate)),this.urls},t.prototype.getOffsetLonlat=function(t){var o=this.realMaxCoordinate.column-t[0]/this.scaleValue,r=this.realMaxCoordinate.row-t[1]/this.scaleValue,e=new n.Coordinate(r,o,this.realMaxCoordinate.zoom);return this.provider.coordinateLocation(e)},t.prototype.toString=function(){var t=this.lonlat,o=[Math.PI*t.lon/180,Math.PI*t.lat/180],r=this.provider.projection.rawProject(o),n="provider:"+this.provider.toString()+"\nlonlat:"+t.toString()+"(地理坐标)\ntransformXY:"+r.toString()+"(投影坐标)\nmaxCoordinate:"+this.realMaxCoordinate.container().toString()+"(参考缩放级别的瓦片坐标)\ncoordinate:"+this.coordinate.toString()+"(瓦片坐标)\nscaleValue:"+this.scaleValue.toString()+"(缩放因子)\noffset:"+this.offset+"(偏移坐标)\nurls:"+this.getUrls()+"(瓦片服务地址)\n";return n},t}();o.MapTile=i}]);